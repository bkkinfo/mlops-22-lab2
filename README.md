# mlops-recognizing-hand-written

## Assignment 4

| run   |        svm |   decision_tree |
|:------|-----------:|----------------:|
| 1     | 0.98441    |       0.815145  |
| 2     | 0.983287   |       0.844011  |
| 3     | 0.985185   |       0.866667  |
| 4     | 0.977654   |       0.837989  |
| 5     | 0.988764   |       0.876404  |
| mean  | 0.98386    |       0.848043  |
| std   | 0.00329028 |       0.0197942 |

## Flask app run 

`FLASK_APP=api.py flask run`

## Docker 

### Build 
`docker build -t exp:v2 -f Dockerfile .`

### Run Docker with local volume
`docker run -it -v $(pwd):/exp -p 5000:5000 exp:v2 `

### Test Images

Input 1 : 

```
['0.0', '0.0', '0.0', '10.0', '15.0', '0.0', '0.0', '0.0', '0.0', '0.0', '11.0', '15.0', '3.0', '0.0', '0.0', '0.0', '0.0', '7.0', '15.0', '4.0', '0.0', '0.0', '0.0', '0.0', '0.0', '12.0', '11.0', '1.0', '3.0', '8.0', '2.0', '0.0', '0.0', '4.0', '12.0', '15.0', '15.0', '16.0', '9.0', '0.0', '0.0', '0.0', '0.0', '8.0', '16.0', '8.0', '2.0', '0.0', '0.0', '0.0', '0.0', '10.0', '12.0', '0.0', '0.0', '0.0', '0.0', '0.0', '0.0', '12.0', '9.0', '0.0', '0.0', '0.0']
```

Label 1 : `4`

Input 2 :

```
['0.0', '0.0', '0.0', '2.0', '13.0', '0.0', '0.0', '0.0', '0.0', '0.0', '0.0', '8.0', '15.0', '0.0', '0.0', '0.0', '0.0', '0.0', '5.0', '16.0', '5.0', '2.0', '0.0', '0.0', '0.0', '0.0', '15.0', '12.0', '1.0', '16.0', '4.0', '0.0', '0.0', '4.0', '16.0', '2.0', '9.0', '16.0', '8.0', '0.0', '0.0', '0.0', '10.0', '14.0', '16.0', '16.0', '4.0', '0.0', '0.0', '0.0', '0.0', '0.0', '13.0', '8.0', '0.0', '0.0', '0.0', '0.0', '0.0', '0.0', '13.0', '6.0', '0.0', '0.0']
```

Label 2 : `4`

Curl Command: 

```
curl http://127.0.0.1:5000/predict -X POST  -H 'Content-Type: application/json' -d '{"image": ["0.0", "0.0", "0.0", "2.0", "13.0", "0.0", "0.0", "0.0", "0.0", "0.0", "0.0", "8.0", "15.0", "0.0", "0.0", "0.0", "0.0", "0.0", "5.0", "16.0", "5.0", "2.0", "0.0", "0.0", "0.0", "0.0", "15.0", "12.0", "1.0", "16.0", "4.0", "0.0", "0.0", "4.0", "16.0", "2.0", "9.0", "16.0", "8.0", "0.0", "0.0", "0.0", "10.0", "14.0", "16.0", "16.0", "4.0", "0.0", "0.0", "0.0", "0.0", "0.0", "13.0", "8.0", "0.0", "0.0", "0.0", "0.0", "0.0", "0.0", "13.0", "6.0", "0.0", "0.0"], "model_name": "./models/svm_gamma=0.001_C=1.joblib"}'
```

```
curl http://127.0.0.1:5000/find_best_model -X GET
```

```
curl http://127.0.0.1:5000/predict -X POST  -H 'Content-Type: application/json' -d '{"image": ["0.0", "0.0", "0.0", "10.0", "15.0", "0.0", "0.0", "0.0", "0.0", "0.0", "11.0", "15.0", "3.0", "0.0", "0.0", "0.0", "0.0", "7.0", "15.0", "4.0", "0.0", "0.0", "0.0", "0.0", "0.0", "12.0", "11.0", "1.0", "3.0", "8.0", "2.0", "0.0", "0.0", "4.0", "12.0", "15.0", "15.0", "16.0", "9.0", "0.0", "0.0", "0.0", "0.0", "8.0", "16.0", "8.0", "2.0", "0.0", "0.0", "0.0", "0.0", "10.0", "12.0", "0.0", "0.0", "0.0", "0.0", "0.0", "0.0", "12.0", "9.0", "0.0", "0.0", "0.0"]}'
```

```
curl http://127.0.0.1:5000/match -X POST  -H 'Content-Type: application/json' -d '{"image_0": ["0.0", "0.0", "0.0", "10.0", "15.0", "0.0", "0.0", "0.0", "0.0", "0.0", "11.0", "15.0", "3.0", "0.0", "0.0", "0.0", "0.0", "7.0", "15.0", "4.0", "0.0", "0.0", "0.0", "0.0", "0.0", "12.0", "11.0", "1.0", "3.0", "8.0", "2.0", "0.0", "0.0", "4.0", "12.0", "15.0", "15.0", "16.0", "9.0", "0.0", "0.0", "0.0", "0.0", "8.0", "16.0", "8.0", "2.0", "0.0", "0.0", "0.0", "0.0", "10.0", "12.0", "0.0", "0.0", "0.0", "0.0", "0.0", "0.0", "12.0", "9.0", "0.0", "0.0", "0.0"], "image_1": ["0.0", "0.0", "0.0", "10.0", "15.0", "0.0", "0.0", "0.0", "0.0", "0.0", "11.0", "15.0", "3.0", "0.0", "0.0", "0.0", "0.0", "7.0", "15.0", "4.0", "0.0", "0.0", "0.0", "0.0", "0.0", "12.0", "11.0", "1.0", "3.0", "8.0", "2.0", "0.0", "0.0", "4.0", "12.0", "15.0", "15.0", "16.0", "9.0", "0.0", "0.0", "0.0", "0.0", "8.0", "16.0", "8.0", "2.0", "0.0", "0.0", "0.0", "0.0", "10.0", "12.0", "0.0", "0.0", "0.0", "0.0", "0.0", "0.0", "12.0", "9.0", "0.0", "0.0", "0.0"]}'
```